name: üöÄ Create New GKE Cluster
description: Request a new GKE cluster
title: "[Create] "
labels: ["cluster-create", "pending-approval"]

body:
  - type: markdown
    attributes:
      value: |
        ## üöÄ New Cluster Request
        
        > ‚è≥ **Note:** After submitting, a Platform team member will review 
        > and add the `approved` label to begin provisioning.

  # ===========================
  # BASIC INFO
  # ===========================

  - type: input
    id: cluster_name
    attributes:
      label: Cluster Name
      description: Unique name (lowercase, hyphens only)
      placeholder: "my-team-dev (lowercase, letters, numbers, hyphens only)"
    validations:
      required: true

  - type: dropdown
    id: environment
    attributes:
      label: Environment
      options:
        - dev
        - staging
        - prod
    validations:
      required: true

  - type: dropdown
    id: zone
    attributes:
      label: GCP Zone
      options:
        - us-central1-a
        - us-central1-b
        - us-east1-b
        - us-west1-a
    validations:
      required: true

  # ===========================
  # NODE CONFIGURATION
  # ===========================

  - type: markdown
    attributes:
      value: |
        ## üñ•Ô∏è Node Configuration

  - type: dropdown
    id: machine_type
    attributes:
      label: Machine Type
      options:
        - e2-small
        - e2-medium
        - e2-standard-2
        - e2-standard-4
    validations:
      required: true

  - type: dropdown
    id: disk_size
    attributes:
      label: Disk Size (GB)
      options:
        - "30"
        - "50"
        - "100"
    validations:
      required: true

  # ===========================
  # AUTOSCALING
  # ===========================

  - type: markdown
    attributes:
      value: |
        ## üìà Autoscaling Configuration

  - type: dropdown
    id: enable_autoscaling
    attributes:
      label: Enable Autoscaling?
      description: Automatically adjust the number of nodes based on workload
      options:
        - "no"
        - "yes"
    validations:
      required: true

  - type: dropdown
    id: node_count
    attributes:
      label: Number of Nodes (if autoscaling disabled)
      description: Fixed node count when autoscaling is OFF
      options:
        - "1"
        - "2"
        - "3"
    validations:
      required: true

  - type: dropdown
    id: min_nodes
    attributes:
      label: Minimum Nodes (if autoscaling enabled)
      description: Minimum number of nodes to keep running
      options:
        - "1"
        - "2"
        - "3"
    validations:
      required: true

  - type: dropdown
    id: max_nodes
    attributes:
      label: Maximum Nodes (if autoscaling enabled)
      description: Maximum number of nodes to scale up to
      options:
        - "3"
        - "5"
        - "10"
        - "15"
        - "50"
    validations:
      required: true

  # ===========================
  # COST OPTIMIZATION
  # ===========================

  - type: markdown
    attributes:
      value: |
        ##  Cost Optimization

  - type: dropdown
    id: use_spot_vms
    attributes:
      label: Use Spot VMs?
      description: Up to 90% cost savings, but VMs can be preempted (good for dev/staging)
      options:
        - "no"
        - "yes"
    validations:
      required: true

  # ===========================
  # OWNERSHIP
  # ===========================

  - type: markdown
    attributes:
      value: |
        ##  Ownership

  - type: input
    id: team
    attributes:
      label: Team Name
      placeholder: "platform"
    validations:
      required: true

  - type: input
    id: owner_email
    attributes:
      label: Owner Email
      placeholder: "you@example.com"
    validations:
      required: true

  - type: textarea
    id: justification
    attributes:
      label: Justification
      placeholder: "Why do you need this cluster? What workloads will run on it?"
    validations:
      required: true